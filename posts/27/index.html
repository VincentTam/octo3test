
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Blog 1</title>
  <meta name="author" content="Vincent Tam">

  
  <meta name="description" content="
  
  
  
    
      
    
      
      
	My Settings for RSS (2)
      
    
    
      
        
        
           | Comments
        
	| &infi...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://vincenttam.github.io/posts/27/">
  <link href="/favicon.png" rel="icon">
  <link href="" rel="alternate" title="Blog 1" type="application/atom+xml">
  <link href="/stylesheets/print.css" media="print" rel="stylesheet" type="text/css">
  <meta name="msvalidate.01" content="E421C0320103717D8EB0AD1FEC67709D" />

<link href='/stylesheets/all-9dfcc26738eca28ea427f2f353c3fccd.css' media='all' rel='stylesheet' type='text/css'>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
           })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46788371-2', 'auto');
      ga('send', 'pageview');

  </script>
</head>
<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Blog 1</a></h1>
  
    <h2>Random Talk on Random Thoughts</h2>
  
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="https://vincenttam.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="https://git.io/vtam">GitHub</a></li>
  <li><a href="/presentations">Slides</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/11/my-settings-for-rss-2/">My Settings for RSS (2)</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/11/my-settings-for-rss-2/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/11/my-settings-for-rss-2/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/11/my-settings-for-rss-2/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><p>Note: I	<em>don’t</em> use <a href="http://brizzled.clapper.org/blog/2012/02/05/a-simple-octopress-image-popup-plugin/" title="A Simple Octopress Image Popup Plugin">Clapper’s image popup plugin</a> anymore,
so the settings below are now gone.</p>

<h2 id="background">Background</h2>

<p>Using the following plugin, I finished removing the repeating figures
in my Atom Feed.<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">http://www.ewal.net/2012/09/08/octopress-customizations/#remove-line-numbers-in-atom-feed</span><a class="code-highlight-caption-link" href="http://www.ewal.net/2012/09/08/octopress-customizations/#remove-line-numbers-in-atom-feed">link</a></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">module</span> <span class="nn">CustomLiquidFilters</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="k">def</span> <span class="nf">remove_linenumbers</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">input</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/\&lt;td\ class="gutter"\&gt;.+?\&lt;\/td\&gt;/m</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="k">end</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="no">RegexMap</span> <span class="o">=</span> <span class="p">&#x7b;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ class="caption"\&gt;Click the image for a larger view.\&lt;\/div\&gt;/</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ id="image-dialog-\d+".*?\&gt;.+?\&lt;\/div\&gt;/m</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ class="illustration\ print"\&gt;.+?\&lt;\/div\&gt;/m</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="p">&#x7d;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="k">def</span> <span class="nf">remove_bigfig</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="no">RegexMap</span><span class="p">.</span><span class="nf">each_pair</span> <span class="p">&#x7b;</span><span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span> <span class="n">input</span><span class="p">.</span><span class="nf">gsub!</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)&#x7d;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">input</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="k">end</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">end</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_filter</span> <span class="no">CustomLiquidFilters</span></div></div></pre></div></figure>

<h2 id="problem">Problem</h2>

<p><strong>How about category Atom Feeds?</strong></p>

<p>It took me some time a find out that the file needed to be changed was
<code class="highlighter-rouge">source/_includes/custom/category_feed.xml</code>.  In that file, I tried to
do the same modification like what I had already did in
<code class="highlighter-rouge">source/atom.xml</code>.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">/blog/2014/06/10/my-settings-for-rss-1/#putting-things-together</span><a class="code-highlight-caption-link" href="/blog/2014/06/10/my-settings-for-rss-1/#putting-things-together/">link</a></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;entry&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="c">&lt;!-- other elements --&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;content</span> <span class="na">type=</span><span class="s">"html"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[&#x7b;&#x7b; post.content | remove_linenumbers | remove_bigfig | expand_urls: site.url | markdownify | cdata_escape &#x7d;&#x7d;]]&gt;</span><span class="nt">&lt;/content&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/entry&gt;</span></div></div></pre></div></figure>

<p>Then I generated the site <em>without</em> getting any errors.  However, when
I was previewing one of my category Atom Feeds, I found out that the
above changes to the XML had did <em>nothing</em>—the popup images still
appeared <em>twice</em>.</p>

<!-- more -->

<h2 id="exploring-the-default-jekyll-code">Exploring the default Jekyll code</h2>

<p>I tried deleting my custom filter <code class="highlighter-rouge">remove_bigfig</code>, so that I could
test whether <a href="http://www.ewal.net/2012/09/08/octopress-customizations/#remove-line-numbers-in-atom-feed" title="Remove line numbers in Atom Feed">Walter’s instructions for removing line numbers</a>
worked for category Atom Feeds.  Unfortunately, his method failed.</p>

<p>Having <em>no</em> knowledge in how the XML file actually worked, I broke
things down by deleting the word <code class="highlighter-rouge">markdownify</code>, as well as
<code class="highlighter-rouge">remove_bigfig</code>, in order to see how things worked.  Then I saw
markdown code at <code class="highlighter-rouge">localhost:4000</code>.  It means that <code class="highlighter-rouge">markdownify</code>
converts markdown to HTML.  Thus, I tried to insert the word
<code class="highlighter-rouge">remove_bigfig</code> again just after <code class="highlighter-rouge">markdownify</code>, but I <em>still</em> saw the
same popup image appearing twice.</p>

<p>Since Walter’s steps didn’t work for me, I almost wanted to give it
up.</p>

<p>In the morning two days ago, I suddenly realized that I could write
see what’s going on inside Octopress by getting the standard output.
<em>Not</em> going take an online tutorial about using Ruby debugger, I used
the most primitive way of debugging.</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nb">puts</span> <span class="n">input</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">end</span></div></div></pre></div></figure>

<p>I recorded the output into a file and then browsed through it.  I
found the <code class="highlighter-rouge">imgpopup ...</code> inside the file.
I also viewed the source code of <code class="highlighter-rouge">cdata_escape</code> so that I knew what
the function did: HTML encode the only argument.  I compared the
output before and after <code class="highlighter-rouge">cdata_escape</code>, and <em>couldn’t</em> see any
difference.  Then it’s clear that using an HTML tag for a regular
expression match <em>wasn’t</em> feasible—change it back to Octopress’s image
tag instead.</p>

<h2 id="ruby-code-learnt">Ruby code learnt</h2>

<ul>
  <li><code class="highlighter-rouge">body.gsub!(/(?=\b).+(?=\b)/) {|m| subs[m]}</code> from
  <a href="http://stackoverflow.com/a/17766326" title="Can I use gsub and Hashes in Ruby?">Stack Overflow</a>.
    <ul>
      <li><code class="highlighter-rouge">/(?&lt;=\b)/</code> <em>didn’t</em> work, since Perl and Ruby didn’t allow
  variable-length patterns.</li>
      <li>This is for an array of Strings, <em>not</em> a long String.</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">map</code> and <code class="highlighter-rouge">collect</code> methods in Array class are the <em>same</em>.</li>
  <li><code class="highlighter-rouge">each</code> and <code class="highlighter-rouge">each_pair</code> methods in Hash class are <em>different</em>.</li>
</ul>

<h2 id="an-illusory-success">An illusory success</h2>

<p>I wrote a function, and pushed it onto GitHub.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>  Viewing the site,
I could see that I successfully change the popup images into ordinary
ones in the category Atom Feed.  However, these changes were <em>also</em>
applied to my blog posts.<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup>  I thought that the error was due to the
use of <code class="highlighter-rouge">gsub!</code>, instead of <code class="highlighter-rouge">gsub</code>.</p>

<h2 id="new-version-of-my-custom-filter">New version of my custom filter</h2>

<p>I’ve been tired of studying code and reading documentations.
Therefore, I just adopted an ugly approach—input <code class="highlighter-rouge">.gsub(...)</code> for
<em>multiple</em> times.  Eventually, I got the desired output.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">

      <p>For details, you may refer to <a href="/blog/2014/06/10/my-settings-for-rss-1/" title="My Settings for RSS (1)">my post about RSS</a>
written yesterday.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><code class="highlighter-rouge">source/plugins/custom_filter.rb</code> at commit <a href="https://github.com/VincentTam/vincenttam.github.io/blob/449a911/plugins/custom_filter.rb#L18-L26">449a911</a>&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:3">

      <p><code class="highlighter-rouge">source/blog/2014/03/22/jump-to-latex-syntax-error/index.html</code> at
commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/fad55d6#diff-1">fad55d6</a>&nbsp;<a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/11/upgrade-pulseaudio-in-ubuntu-12-dot-04/">Upgrade PulseAudio in Ubuntu 12.04</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/11/upgrade-pulseaudio-in-ubuntu-12-dot-04/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/11/upgrade-pulseaudio-in-ubuntu-12-dot-04/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/11/upgrade-pulseaudio-in-ubuntu-12-dot-04/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><h2 id="reason-for-the-upgrade">Reason for the upgrade</h2>

<p>This Sunday, I opened <a href="https://www.videolan.org/vlc/" title="VLC media player">VLC</a> to watch video, and ran into a “potential PulseAudio version problem”.</p>

<p><img src="/images/posts/PulseAudioUpgrade/errors.png" alt="VLC error dialog showing a PulseAudio version problem" /></p>

<h2 id="my-clumsy-way-to-fix-the-issue">My clumsy way to fix the issue</h2>

<p>Among the sites found with Google, I can only understand the instructions from <a href="http://askubuntu.com/a/289380" title="How to upgrade pulseaudio">a question on Ask Ubuntu</a>.</p>

<p>I typed in the command word-by-word like this.</p>

<div class="cliUB highlighter-rouge"><pre class="highlight"><code>$ sudo add-apt-repository ppa:ubuntu:audio-dev/ppa
</code></pre>
</div>

<p>Then I got an error.  I read <a href="https://launchpad.net/~ubuntu-audio-dev/+archive/ppa">Ubuntu Audio Development Team’s PPA</a> on Launchpad to remind myself the command for adding PPAs.  I saw that I <em>didn’t</em> include <code class="highlighter-rouge">/ppa</code> at the end, so I added it back and ran the command again.  However, it <em>failed</em> again.</p>

<p>Finally, I discovered that I had made a silly mistake in the command in the command: the <code class="highlighter-rouge">:</code> between <code class="highlighter-rouge">ubuntu</code> and <code class="highlighter-rouge">audio</code> should be <code class="highlighter-rouge">-</code>.</p>

</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/10/my-settings-for-rss-1/">My Settings for RSS (1)</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/10/my-settings-for-rss-1/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/10/my-settings-for-rss-1/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/10/my-settings-for-rss-1/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><p>Note: I	<em>don’t</em> use <a href="http://brizzled.clapper.org/blog/2012/02/05/a-simple-octopress-image-popup-plugin/" title="A Simple Octopress Image Popup Plugin">Clapper’s image popup plugin</a> anymore,
so the settings below are now gone.</p>

<h2 id="objective">Objective</h2>

<p>To set up a user-friendly RSS feeds layout.</p>

<h2 id="background">Background</h2>

<p>I installed <a href="http://brizzled.clapper.org/blog/2012/02/05/a-simple-octopress-image-popup-plugin/" title="A Simple Octopress Image Popup Plugin">Clapper’s image popup plugin</a> two months
ago.<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></p>

<h2 id="problem">Problem</h2>

<p>As can be seen from Clapper’s RSS feed page, each popup image appears
<em>three</em> times.</p>

<p><img class="fancybox" src="/images/posts/RSS1/3img.png" width="800" alt="'Clapper RSS' ['fig1']" /></p>

<!-- more -->

<p>The HTML code provides some information about this problem.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">http://brizzled.clapper.org/feed.atom</span><a class="code-highlight-caption-link" href="http://brizzled.clapper.org/feed.atom">link</a></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;div</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">class=</span><span class="s">"imgpopup screen"</span> <span class="na">xml:base=</span><span class="s">"http://brizzled.clapper.org/feed.atom"</span><span class="nt">&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"caption"</span><span class="nt">&gt;</span>Click the image for a larger view.<span class="nt">&lt;/div&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"image-4"</span><span class="nt">&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;img</span> <span class="na">width=</span><span class="s">"240"</span> <span class="na">height=</span><span class="s">"183"</span> <span class="na">alt=</span><span class="s">"Click me."</span> <span class="na">src=</span><span class="s">"http://brizzled.clapper.org/images/2012-02-05-a-simple-octopress-image-popup-plugin/six-twenty-six.jpg"</span> <span class="nt">/&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;/a&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"image-dialog-4"</span><span class="nt">&gt;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;img</span> <span class="na">width=</span><span class="s">"800"</span> <span class="na">height=</span><span class="s">"610"</span> <span class="na">src=</span><span class="s">"http://brizzled.clapper.org/images/2012-02-05-a-simple-octopress-image-popup-plugin/six-twenty-six.jpg"</span> <span class="nt">/&gt;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="nt">&lt;br</span> <span class="na">clear=</span><span class="s">"all"</span> <span class="nt">/&gt;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;/div&gt;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/div&gt;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;div</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">class=</span><span class="s">"illustration print"</span> <span class="na">xml:base=</span><span class="s">"http://brizzled.clapper.org/feed.atom"</span><span class="nt">&gt;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;img</span> <span class="na">width=</span><span class="s">"800"</span> <span class="na">height=</span><span class="s">"610"</span> <span class="na">src=</span><span class="s">"http://brizzled.clapper.org/images/2012-02-05-a-simple-octopress-image-popup-plugin/six-twenty-six.jpg"</span> <span class="nt">/&gt;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/div&gt;</span></div></div></pre></div></figure>

<h2 id="failed-approach-change-the-css">Failed approach: change the CSS</h2>

<p>I googled “xml css”, and learned the syntax for customizing the styles
of an XML document from <a href="http://www.study-area.org/coobila/tutorial_203.html" title="在XML中使用CSS">a site in Taiwan</a>.  Unluckily, this
method failed change the display styles of my RSS feed page.</p>

<p>At the top of the source code of <code class="highlighter-rouge">source/atom.xml</code>, I found two
<code class="highlighter-rouge">&lt;link&gt;</code> tags, so I tried inserting an external CSS stylesheet, but it
also failed.</p>

<h2 id="solution">Solution</h2>

<p>I searched “octopress rss css”, and found <a href="http://www.ewal.net/2012/09/08/octopress-customizations/" title="Octopress Customizations">a page that I’ve
visited</a> when I inserted some Ruby code into my <code class="highlighter-rouge">Rakefile</code> to
submit new sitemaps.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup></p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">http://www.ewal.net/2012/09/08/octopress-customizations/#remove-line-numbers-in-atom-feed</span><a class="code-highlight-caption-link" href="http://www.ewal.net/2012/09/08/octopress-customizations/#remove-line-numbers-in-atom-feed">link</a></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">module</span> <span class="nn">CustomLiquidFilters</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="k">def</span> <span class="nf">remove_linenumbers</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">input</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/\&lt;td\ class="gutter"\&gt;.+?\&lt;\/td\&gt;/m</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="k">end</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">end</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_filter</span> <span class="no">CustomLiquidFilters</span></div></div></pre></div></figure>

<h3 id="some-ruby-regular-expressions-learnt-tldr">Some Ruby regular expressions learnt (TL;DR)</h3>

<p>When it comes to regular expressions, my memory is <em>poor</em> and my
efficiency is <em>extremely</em> slow.  It’s just for me to recall some
Ruby’s regular expression syntax.</p>

<h4 id="some-special-characters">Some special characters</h4>

<ul>
  <li><code class="highlighter-rouge">\n</code>: newline</li>
  <li><code class="highlighter-rouge">/\//</code>: escaping <code class="highlighter-rouge">/</code> in Ruby’s regular expression</li>
</ul>

<h4 id="some-metacharacters">Some metacharacters</h4>

<p>For details, view the
<a href="http://www.ruby-doc.org/core-1.9.3/Regexp.html#class-Regexp-label-Character+Classes" title="Class: Regexp (Ruby 1.9.3)">offical documentation</a>.</p>

<ul>
  <li><code class="highlighter-rouge">/./</code>: Any character exception <code class="highlighter-rouge">\n</code></li>
  <li><code class="highlighter-rouge">\w/</code>: Any alphanumeric character or underscore</li>
  <li><code class="highlighter-rouge">/\D/</code>: <code class="highlighter-rouge">/[^0-9]/</code></li>
  <li><code class="highlighter-rouge">/\s/</code>: <code class="highlighter-rouge">/[ \t\r\n\f]/</code></li>
</ul>

<h4 id="some-simple-methods">Some simple methods</h4>

<p>I’ve learned two methods.</p>

<ol>
  <li><code class="highlighter-rouge">match</code> in Regexp class</li>
  <li><code class="highlighter-rouge">gsub</code> in String class
    <ul>
      <li>‘g’ stands for “global”</li>
    </ul>
  </li>
</ol>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Some simple Ruby methods on regular expressions</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">str</span> <span class="o">=</span> <span class="s2">"hello"</span><span class="p">;</span> <span class="kp">nil</span> <span class="c1"># Supress stdout</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">pat</span> <span class="o">=</span> <span class="sr">/\w+/</span><span class="p">;</span> <span class="kp">nil</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">pat</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>     <span class="c1"># =&gt; "hello"</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">pat</span> <span class="o">=</span> <span class="sr">/\w+?/</span><span class="p">;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">path</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>    <span class="c1"># =&gt; "h"</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">pat</span> <span class="o">=</span> <span class="sr">/[eo]/</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">map</span> <span class="o">=</span> <span class="p">&#x7b;</span>            <span class="c1"># Same as the official example</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="s1">'e'</span> <span class="o">=&gt;</span> <span class="s1">'3'</span><span class="p">,</span>      <span class="c1"># except 'o' is NOT mapped</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">str</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span><span class="n">map</span><span class="p">)</span>  <span class="c1"># =&gt; "h3ll"</span></div></div></pre></div></figure>

<h3 id="my-interpretation-of-the-code-of-the-above-plugin">My interpretation of the code of the above plugin</h3>

<p>If I <em>don’t</em> write down the reasons for using the metacharacters,
quantifiers, etc, now, it’s likely for me to forget them in a month.</p>

<ul>
  <li><code class="highlighter-rouge">/foo.bar/m</code>: With the trailing <code class="highlighter-rouge">m</code>, the <code class="highlighter-rouge">.</code> inside <code class="highlighter-rouge">/</code>s matches
  <em>any</em> characters.<br />
  To match any characters (including <code class="highlighter-rouge">\n</code>) inside a <code class="highlighter-rouge">&lt;td&gt;</code> tag.</li>
  <li><code class="highlighter-rouge">/a+?/</code>: <em>non-greedy</em> cousin of <code class="highlighter-rouge">/a+/</code><br />
  To match <code class="highlighter-rouge">&lt;td&gt;...&lt;/td&gt;</code>, but <em>not</em> <code class="highlighter-rouge">&lt;td&gt;...&lt;/td&gt;...&lt;td&gt;...&lt;/td&gt;</code></li>
</ul>

<p>Parts of the matching pattern that I don’t undersand:</p>

<ul>
  <li><code class="highlighter-rouge">/\&lt;/</code> means the <em>same</em> as <code class="highlighter-rouge">/&lt;/</code>.</li>
  <li><code class="highlighter-rouge">/\&gt;/</code> means the <em>same</em> as <code class="highlighter-rouge">/&gt;/</code>.</li>
  <li><code class="highlighter-rouge">/\ /</code> means the <em>same</em> as <code class="highlighter-rouge">/ /</code>.</li>
</ul>

<p>I also <em>don’t</em> understand why <code class="highlighter-rouge">' '</code> is used, but <em>not</em> <code class="highlighter-rouge">''</code> in the
second argument of  the above <code class="highlighter-rouge">gsub</code> command.</p>

<h3 id="putting-things-together">Putting things together</h3>

<p>I’ve changed my way of thinking: instead of changing the styles, I
decided to manipulate the contents.  Once the HTML tags for the
redundant images had been removed, the Atom Feed should be better.
Re-reading the HTML code in my RSS page, I realized that three tags
could be stripped down: <code class="highlighter-rouge">&lt;div class="caption"&gt;</code>, <code class="highlighter-rouge">&lt;div
id="image-dialog-*"&gt;</code> and <code class="highlighter-rouge">&lt;div class="illustration print"&gt;</code>.</p>

<p>From Walter’s plugin, I knew that this involves writing Ruby code.
Any programmer will know that this can be done by using <code class="highlighter-rouge">gsub</code> two
times.  However, this is <em>not</em> beautiful.  How about multiple
replacements in general?  I found the last answer of
<a href="http://stackoverflow.com/a/8132492" title="Ruby Multiple String Replacement">this question on Stack Overflow</a> elegant.  The arrow <code class="highlighter-rouge">=&gt;</code> in
variable <code class="highlighter-rouge">map</code> fascinates me.  At first, I thought that there’s a “map” object
in Ruby, and searched “ruby regex gsub map”, but I couldn’t see a webpage that
I, having <em>no</em> experience in writing Ruby code, could understand.  It took me
some time to figure out that variable <code class="highlighter-rouge">map</code> is actually a <em>Hash</em>.</p>

<p>I copied <code class="highlighter-rouge">public/atom.xml</code> to my home folder and used a Ruby script to
test my method first.  To avoid seeing broken things while previewing
the site, I <em>didn’t</em> directly modify <code class="highlighter-rouge">plugins/custom_filter.rb</code>.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">'My testing Ruby scripts'</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="c1">#!/usr/bin/env ruby</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="c1"># encoding: utf-8</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">input</span> <span class="o">=</span> <span class="no">IO</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="no">ARGV</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="no">RegexMap</span> <span class="o">=</span> <span class="p">&#x7b;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ class="caption"\&gt;Click the image for a larger view.\&lt;\/div\&gt;/</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ id="image-dialog-\d+".*?\&gt;.+?\&lt;\/div\&gt;/m</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ class="illustration\ print"\&gt;.+?\&lt;\/div\&gt;/m</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="no">RegexMap</span><span class="p">.</span><span class="nf">each_pair</span> <span class="p">&#x7b;</span><span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span> <span class="n">input</span><span class="p">.</span><span class="nf">gsub!</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)&#x7d;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nb">puts</span> <span class="n">input</span>
</div></div></pre></div></figure>

<p>I <em>didn’t</em> have much time to study Ruby’s File I/O, so I just direct
the standard output to a file.  Thus, within the Vim buffer that held
the file, I typed the following editor command. (The current directory
is <code class="highlighter-rouge">~</code>.)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>:!ruby % atom.xml &gt; atom_changed.xml
</code></pre>
</div>

<p>To compare the difference between the two XML files, the following
command can be used.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>:vertical diffsplit atom.xml atom_changed.xml
</code></pre>
</div>

<p>Of course <code class="highlighter-rouge"><span class="gh">diff -u</span></code> can be used, but since it’s the <em>first</em> time that
I compare the two files, I have <em>no</em> idea about the length of the
output.  If the output length is greater than the buffer length of my
terminal, then I <em>couldn’t</em> see all the differences.  <code class="highlighter-rouge">vimdiff</code>
directly enter Vim’s diff mode from the terminal.  The <code class="highlighter-rouge">]c</code> mapping is
for jumping to the next difference.</p>

<p>With this keyboard shortcut, I could quickly browse through the files
and knew that the <code class="highlighter-rouge">gsub</code> method had been correctly applied.
Therefore, I added a method in module <code class="highlighter-rouge">CustomLiquidFilters</code> in
<code class="highlighter-rouge">plugins/custom_filter.rb</code>.</p>

<p>I learnt to use method <code class="highlighter-rouge">each_pair</code> in Hash class from an answer to
<a href="http://stackoverflow.com/a/13556720" title="Using many instances of 'gsub' in Ruby">another Stack Overflow question about <code class="highlighter-rouge">gsub</code></a>.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">My first custom filter</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">def</span> <span class="nf">remove_bigfig</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="no">RegexMap</span> <span class="o">=</span> <span class="p">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ class="caption"\&gt;Click the image for a larger view.\&lt;\/div\&gt;/</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ id="image-dialog-\d+".*?\&gt;.+?\&lt;\/div\&gt;/m</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="sr">/\&lt;div\ class="illustration\ print"\&gt;.+?\&lt;\/div\&gt;/m</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="p">&#x7d;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="no">RegexMap</span><span class="p">.</span><span class="nf">each_pair</span> <span class="p">&#x7b;</span><span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span> <span class="n">input</span><span class="p">.</span><span class="nf">gsub!</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)&#x7d;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">end</span></div></div></pre></div></figure>

<p>Moreover, similar to Walter’s modification to his <code class="highlighter-rouge">source/atom.xml</code>,
to test my newly written code, I also needed to change it a little
bit.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">http://www.ewal.net/2012/09/08/octopress-customizations/#categories-in-the-atom-feed</span><a class="code-highlight-caption-link" href="http://www.ewal.net/2012/09/08/octopress-customizations/#categories-in-the-atom-feed">link</a></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;entry&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="c">&lt;!-- other elements --&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;content</span> <span class="na">type=</span><span class="s">"html"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[&#x7b;&#x7b; post.content | remove_linenumbers | remove_bigfig | expand_urls: site.url | cdata_escape &#x7d;&#x7d;]]&gt;</span><span class="nt">&lt;/content&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/entry&gt;</span></div></div></pre></div></figure>

<p><del><small>Due to my limited knowledge in Jekyll, I <em>can’t</em> find a
way to escape the Liquid command inside an Octopress
codeblock.</small></del></p>

<p>Unfortunately, I got strange output from <code class="highlighter-rouge">rake</code>.</p>

<pre class="cli"><code class="UBMono">[owner@localhost ~/octopress]$ rake generate
## Generating Site with Jekyll
<span class="rake_gen_unchanged">unchanged</span> sass/print.scss
<span class="rake_gen_identical">identical</span> source/stylesheets/screen.css 
Configuration from /home/owner/octopress/_config.yml
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb:78: 
in `require': /home/owner/octopress/plugins/custom_filter.rb:7: dynamic constant
 assignment (SyntaxError)
RegexMap = {
^
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb
:78:in `block (2 levels) in setup'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb
:77:in `each'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb
:77:in `block in setup'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb
:76:in `each'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb
:76:in `setup'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb
:31:in `initialize'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/bin/jekyll:238:in 
`new'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/bin/jekyll:238:in 
`&lt;top (required)&gt;'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/bin/jekyll:23:in `load'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/bin/jekyll:23:in `&lt;main&gt;'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/bin/ruby_executable_hooks:15:in `eval
'
from /home/owner/.rvm/gems/ruby-1.9.3-p484/bin/ruby_executable_hooks:15:in `&lt;mai
n&gt;'
</code></pre>

<p>I searched “ruby dynamic constant assignment” on Google, and read the
first search result, which was a Stack Overflow question.  The answers
on the top were very informative and I <em>couldn’t</em> comprehend them.  I
could just understand <a href="http://stackoverflow.com/a/6712512" title="Dynamic constant assignment">the last one</a>.</p>

<p>After that, I tried to move the lines of code that defined hash
<code class="highlighter-rouge">Regexp</code> outside of method <code class="highlighter-rouge">remove_bigfig</code>, and generate the site
again.  I encountered another error.</p>

<pre class="cli"><code class="UBMono">[owner@localhost ~/octopress]$ !rake
rake generate
## Generating Site with Jekyll
<span class="rake_gen_unchanged">unchanged</span> sass/print.scss
<span class="rake_gen_identical">identical</span> source/stylesheets/screen.css 
Configuration from /home/owner/octopress/_config.yml
Building site: source -&gt; public
Liquid Exception: undefined method `gsub' for #&lt;Hash:0xa927e30&gt; in atom.xm
l
/home/owner/octopress/plugins/octopress_filters.rb:81:in `expand_urls'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/context.rb:58
:in `invoke'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/variable.rb:4
3:in `block in render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/variable.rb:3
8:in `each'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/variable.rb:3
8:in `inject'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/variable.rb:3
8:in `render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:94:i
n `block in render_all'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:92:i
n `collect'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:92:i
n `render_all'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/tags/for.rb:1
16:in `block (2 levels) in render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/tags/for.rb:1
04:in `each'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/tags/for.rb:1
04:in `each_with_index'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/tags/for.rb:1
04:in `block in render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/context.rb:91
:in `stack'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/tags/for.rb:1
03:in `render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:94:i
n `block in render_all'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:92:i
n `collect'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:92:i
n `render_all'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/block.rb:82:i
n `render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/template.rb:1
24:in `render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/liquid-2.3.0/lib/liquid/template.rb:1
32:in `render!'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/convertible.
rb:79:in `do_layout'
/home/owner/octopress/plugins/post_filters.rb:167:in `do_layout'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/page.rb:100:
in `render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb:204:
in `block in render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb:203:
in `each'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb:203:
in `render'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/lib/jekyll/site.rb:41:i
n `process'
/home/owner/.rvm/gems/ruby-1.9.3-p484/gems/jekyll-0.12.1/bin/jekyll:264:in `&lt;top
 (required)&gt;'
/home/owner/.rvm/gems/ruby-1.9.3-p484/bin/jekyll:23:in `load'
/home/owner/.rvm/gems/ruby-1.9.3-p484/bin/jekyll:23:in `&lt;main&gt;'
/home/owner/.rvm/gems/ruby-1.9.3-p484/bin/ruby_executable_hooks:15:in `eval'
/home/owner/.rvm/gems/ruby-1.9.3-p484/bin/ruby_executable_hooks:15:in `&lt;main&gt;'
Build Failed
</code></pre>

<p>I tried googling “Liquid Exception: undefined method `gsub’ for”, but
the search <em>weren’t</em> useful to me.  Appending the word “hash” to the
search string <em>didn’t</em> help.  Finally, I changed it to “gsub hash”,
and clicked the first search result, which was
<a href="http://stackoverflow.com/a/5873012" title="Ruby gsub method - accepting hash?">a Stack Overflow question</a>.  In the last row of the codeblock,
there’s a command which printed and <em>returned</em> the result.  <em>Not</em> understanding
what the code truly did, I quickly knew the reason of the previous build
failure—the method <code class="highlighter-rouge">remove_bigfig</code> <em>wasn’t</em> returning a String.  I added the
variable to the last line of the method, and finally solved the problem.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="https://github.com/vincenttam/vincenttam.github.io/commit/94c7d97" title="commit 94c7d97">The Git commit for installing the image popup plugin</a>&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><a href="/blog/2014/06/01/notifying-search-engines-of-new-sitemaps/" title="Notifying Search Engines of New Sitemaps">One of my posts</a>&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/08/remove-octopresss-default-image-border/">Remove Octopress's Default Image Border</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/08/remove-octopresss-default-image-border/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/08/remove-octopresss-default-image-border/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/08/remove-octopresss-default-image-border/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><h2 id="background">Background</h2>

<p>Two days ago, when I was writing
<a href="/blog/2014/06/05/mathjax-in-octopress-via-https/" title="MathJax in Octopress via HTTPS">a post about viewing Octopress blogs over HTTPS</a>, which is
a <em>secure</em> and <em>encrypted</em> connection, I saw
<a href="http://mzl.la/13jCUSU" title="How does content that isn't secure affect my safety?">a Moziila Support page</a> which contained inline icons.  I
attempted to include those tiny pictures into some paragraphs.
However, the resulting appearance of those paragraphs <em>wasn’t</em>
appealing—the white border surrounding the tiny icon <em>didn’t</em> look
great.  It would be <em>better</em> if it could be removed.</p>

<!-- more -->

<h2 id="failed-attemps">Failed attemps</h2>

<p>I did try to find the solution using Google, but it <em>wasn’t</em>  useful
this time.  I re-read the source code of
<a href="http://brizzled.clapper.org/blog/2012/02/05/a-simple-octopress-image-popup-plugin/" title="A Simple Octopress Image Popup Plugin">Clapper’s image plugin</a>, that of
<a href="http://erikzaadi.com/2012/04/22/solarized-color-scheme-for-octopress/" title="Source code of Solarized theme for Octopress">the Solarized theme for Octopress</a>, and that of
<a href="https://github.com/larrynung/larrynung.github.io/tree/source" title=" Source code of Larry Nung's GitHub page">Larry Nung’s GitHub page</a>, but I still had <em>not</em> yet come
up with a solution.</p>

<h2 id="solution">Solution</h2>

<p>With the help of a modern browser like Firefox, I inspected the CSS
rules and properties of an image. Clicking the checkbox for some CSS
properties, I finally found the four properties that were responsible
for the default white border.  By unchecking three of them, the border
would disappear.</p>

<p>To illustrate the function of those checkboxes in Firefox’s DOM and
Style Inspector, I’ve included two screenshots from
<a href="http://octopress.org/docs/plugins/image-tag/" title="Image Tag">a page in Octopress’s official documentation</a>.</p>

<p>Right-click the image and choose “<strong>Inspect Element</strong>”.  Scroll down
the panel on the right that shows the CSS rules, as shown in the below
figure.</p>

<p><img class="fancybox" src="/images/posts/RemoveImgBorder/Border.png" alt="'Firefox DOM and Style Inspector' ['fig1']" /></p>

<p>Uncheck the three checkboxes as shown in the below figure.</p>

<p><img class="fancybox" src="/images/posts/RemoveImgBorder/NoBorder.png" alt="'Instant preview of layout changes' ['fig2']" /></p>

<p>The white border will disappear.</p>

<p>Flash videos were also affected by this CSS rule.  Therefore, I
searched for files under the <code class="highlighter-rouge">sass/</code> folder that contains
<code class="highlighter-rouge">flash-video</code>, after learning the command from
<a href="http://stackoverflow.com/questions/1987926/" title="How do I grep recursively?">a question on StackExchange</a>.</p>

<div class="cliUB highlighter-rouge"><pre class="highlight"><code>$ grep -r flash-video ./sass
</code></pre>
</div>

<p>I observed that the mixin <code class="highlighter-rouge">shadow-box</code> was used in
<code class="highlighter-rouge">sass/partials/_blog.scss</code>.<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>  I performed another search, and found
the mixin in <code class="highlighter-rouge">sass/base/_utilities.scss</code>.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup></p>

<p>I tried setting <code class="highlighter-rouge">border: none</code> for <code class="highlighter-rouge">img</code> tags in
<code class="highlighter-rouge">sass/custom/_screen.scss</code>, but it was overridden by the above four
CSS rules.  Modifying the CSS files created by other developers
<em>wasn’t</em> a good idea for me.  Therefore, I created a custom mixin to
override the default one.  I learned a way for overriding mixins from
<a href="http://stackoverflow.com/questions/7115959/" title="Adding !important using a Compass Mixin">another Stack Exchange question</a>.</p>

<p>Though it is an ugly approach, I’m quite satisfied and I would like to
work on other things, such as my studies and another CSS problem in
this blog—improve the settings in <code class="highlighter-rouge">sass/custom/_print.scss</code> for
better printing experience.</p>

<hr />
<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><code class="highlighter-rouge">sass/partials/_blog.scss</code> at commit <a href="https://github.com/VincentTam/vincenttam.github.io/blob/2d1cec6/sass/partials/_blog.scss#L48">2d1cec6a</a>&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><code class="highlighter-rouge">sass/base/_utilities.scss</code> at commit <a href="https://github.com/VincentTam/vincenttam.github.io/blob/2d1cec6/sass/base/_utilities.scss#L8-L13">2d1cec6b</a>&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/07/use-lynx-browser/">Use Lynx Browser</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/07/use-lynx-browser/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/07/use-lynx-browser/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/07/use-lynx-browser/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><h2 id="why">Why?</h2>

<p>This morning, I saw <a href="http://www.searchenginepeople.com/blog/see-what-google-sees.html" title="Use This Browser To See What Google Does">a post on Search Engine People Blog</a>,
and decided to make a summary of it, so that I <em>don’t</em> have to think
of the reasons for using <a href="http://lynx.isc.org/" title="Lynx Browser">Lynx</a> when I’m asked for that next time.</p>

<h3 id="past-usage">Past usage</h3>

<ul>
  <li>Lack of <abbr title="Graphical User Interface">GUI</abbr> web browsers like <a href="https://www.mozilla.org/en-US/firefox/new/" title="Mozilla Firefox">Firefox</a> and <a href="http://www.microsoft.com/en-us/download/internet-explorer.aspx" title="Microsoft Internet Explorer">Internet Explorer</a></li>
  <li>Text browsers were capable of loading contents quickly, if there’s
  <em>no</em> connection problem.</li>
  <li>The Internet wasn’t fast enought for extensive transmission of
  images and flash animations.</li>
</ul>

<h3 id="present-usage">Present usage</h3>

<ul>
  <li>“You really love text and hate images” :)</li>
  <li>“<strong>For marketing to search engines</strong>”
    <ul>
      <li>“<em>See what <abbr title="Search Engine Optimizers">SEOs</abbr> see</em>”: they use browsers similar to Lynx.</li>
    </ul>
  </li>
</ul>

<p><small>Remarks: Due to my laziness, reasons for search engines to use
text browsers, instead of “a modern browser”, are omitted.</small></p>

<!-- more -->

<h2 id="how">How?</h2>

<p>For GNU/Linux, type the command for installing Lynx.  For</p>

<h3 id="ubuntudebian-based-distros">Ubuntu/Debian-based Distros</h3>

<div class="cliUB highlighter-rouge"><pre class="highlight"><code>$ sudo apt-get install lynx
</code></pre>
</div>

<h3 id="fedora">Fedora</h3>

<div class="cli highlighter-rouge"><pre class="highlight"><code>$ su
# yum install lynx
</code></pre>
</div>

<h3 id="microsoft-windows">Microsoft Windows</h3>

<p>Refer to the section <em>Lynx Links</em> in the post on Search Engine People
Blog.</p>

<h2 id="what-can-i-see">What can I see?</h2>

<p>This is a screenshot taken in Linux text mode.</p>

<p><img class="fancybox" src="/images/posts/Lynx/Screenshot.png" width="800" alt="'Lynx browser in Linux text mode' ['fig1']" /></p>

<h2 id="some-useful-keys">Some useful keys</h2>

<h3 id="help">Help</h3>

<ul>
  <li>Use <code class="highlighter-rouge">k</code> for keymap</li>
  <li>Use <code class="highlighter-rouge">h</code> or <code class="highlighter-rouge">?</code> for help</li>
</ul>

<h3 id="browsing">Browsing</h3>

<ul>
  <li>Use <code class="highlighter-rouge">g</code> for inputting URL</li>
  <li>Use <code class="highlighter-rouge">G</code> for inputting URL similar to the one of the current page.</li>
  <li>Use <code class="highlighter-rouge">l</code> for displaying URLs of hyperlinks.</li>
  <li>Use <code class="highlighter-rouge">&lt;Backspace&gt;</code> for displaying browsing history.</li>
  <li>Use <code class="highlighter-rouge">\</code> to view the source code</li>
</ul>

<h3 id="searches">Searches</h3>

<ul>
  <li>Use <code class="highlighter-rouge">/</code> for forward search</li>
  <li>Use <code class="highlighter-rouge">n</code> for repeating search forwardly</li>
  <li>Use <code class="highlighter-rouge">N</code> for repeating search backwardly</li>
</ul>

<h2 id="how-to-save-the-pages">How to save the pages?</h2>

<ul>
  <li>Source code
    <ul>
      <li>Inside Lynx
        <ol>
          <li>Highlight the link using the cursor</li>
          <li>Press <code class="highlighter-rouge">d</code> to download the source code</li>
        </ol>
      </li>
      <li>Outside Lynx<br />
  Use the following command</li>
    </ul>

    <pre class="cli">$ lynx -source [URL]</pre>
  </li>
  <li>
    <p>Formatted output</p>

    <pre class="cli">$ lynx -dump [URL]</pre>
  </li>
</ul>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Google's Homepage Downloaded with `lynx -dump`</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">   Search [1]Images [2]Maps [3]Play [4]YouTube [5]News [6]Gmail [7]Drive
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">   [8]More »
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">   [9]Web History | [10]Settings | [11]Sign in
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">   Google
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">   _______________________________________________________
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">   Google Search  I'm Feeling Lucky                          [12]Advanced search
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">                                                             [13]Language tools
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">   [14]Advertising Programs     [15]Business Solutions     [16]+Google
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    [17]About Google     [18]Google.com.hk
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">                        © 2013 - [19]Privacy &amp; Terms
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">References
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">   1. http://www.google.com/imghp?hl=en&amp;tab=wi
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">   2. http://maps.google.com/maps?hl=en&amp;tab=wl
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">   3. https://play.google.com/?hl=en&amp;tab=w8
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">   4. http://www.youtube.com/?hl=en&amp;tab=w1
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">   5. http://news.google.com/nwshp?hl=en&amp;tab=wn
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">   6. https://mail.google.com/mail/?tab=wm
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">   7. https://drive.google.com/?tab=wo
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">   8. http://www.google.com/intl/en/options/
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">   9. http://www.google.com/history/optout?hl=en
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">  10. http://www.google.com/preferences?hl=en
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">  11. https://accounts.google.com/ServiceLogin?hl=en&amp;continue=http://www.google.com/%3Fhl%3Den
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">  12. http://www.google.com/advanced_search?hl=en&amp;authuser=0
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">  13. http://www.google.com/language_tools?hl=en&amp;authuser=0
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">  14. http://www.google.com/intl/en/ads/
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">  15. http://www.google.com/services/
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">  16. https://plus.google.com/116899029375914044550
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">  17. http://www.google.com/intl/en/about.html
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">  18. http://www.google.com/setprefdomain?prefdom=HK&amp;prev=http://www.google.com.hk/&amp;sig=0_E8LrWwWohWMriV1EcfDOmEFgqE4%3D
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line">  19. http://www.google.com/intl/en/policies/
</div></div></pre></div></figure>

</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/06/blogging-and-learning/">Blogging and Learning</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/06/blogging-and-learning/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/06/blogging-and-learning/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/06/blogging-and-learning/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><p>This afternoon, when I was writing <a href="/blog/2014/06/05/mathjax-in-octopress-via-https/" title="MathJax in Octopress via HTTPS">a post</a>, I viewed
<a href="https://github.com/brianbuccola/brianbuccola.github.io/blob/master/_posts/2012-11-27-testing-first-post.md" title="Testing: First Post">Brian Buccola’s post</a>, which was written due to
<a href="http://matt.might.net/articles/how-to-blog-as-an-academic/" title="6 blog tips for busy academics">Matt Might’s post</a>.  Inspired by their posts, I will try to
squeeze some time to write what I’ve learnt.</p>

</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/05/firefox-security-plugins/">Firefox Security Plugins</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/05/firefox-security-plugins/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/05/firefox-security-plugins/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/05/firefox-security-plugins/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><p>I’m using <a href="https://www.mozilla.org/en-US/firefox/new/" title="Mozilla Firefox">Mozilla Firefox</a> along with some plugins, such as:</p>

<ul>
  <li><a href="https://www.eff.org/https-everywhere/rulesets" title="HTTPS Everywhere">HTTPS Everywhere</a></li>
  <li><a href="https://adblockplus.org/" title="Adblock Plus">Adblock Plus</a></li>
  <li><a href="http://noscript.net/" title="NoScript">NoScript</a></li>
</ul>

<p>These plugins enable users to browse the web more safely.  Anyone who
pursue true freedom should use these to avoid running some unnecessary
scripts that “betray” them, possibly to authoritarian governments.</p>

</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/05/mathjax-in-octopress-via-https/">MathJax in Octopress via HTTPS</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/05/mathjax-in-octopress-via-https/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/05/mathjax-in-octopress-via-https/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/05/mathjax-in-octopress-via-https/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><h2 id="problem">Problem</h2>

<p>Some contents in <a href="http://octopress.org/" title="Octopress">Octopress</a> blogs <em>couldn’t</em> be viewed via <abbr title="HTTP Secure">HTTPS</abbr><sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>,
for example, <a href="https://yamanetoshi.github.io/" title="A Japanese Octopress Blog browsed via HTTPS">a Japanese blog</a>.</p>

<p><img class="fancybox" src="/images/posts/OctopressHTTPS/JPBlog.png" width="800" alt="'Screenshot of an Octopress blog in Japanese' ['fig1']" /></p>

<p>This blog on last Saturday afternoon</p>

<ul>
  <li>The first category list item “$\rm \LaTeX$” on the right <em>couldn’t</em>
be displayed</li>
</ul>

<p><img class="fancybox" src="/images/posts/OctopressHTTPS/blocked.png" width="800" alt="'Screenshot of my blog on last Saturday afternoon' ['fig2']" /></p>

<ul>
  <li>Using <abbr title="Hypertext Transfer Protocol">HTTP</abbr> instead of <abbr title="HTTP Secure">HTTPS</abbr>, I can see the blocked contents.</li>
</ul>

<p><img class="fancybox" src="/images/posts/OctopressHTTPS/disable-blocking.png" width="800" alt="'Disable Protection on This Page' ['fig3']" /></p>

<p><img class="fancybox" src="/images/posts/OctopressHTTPS/blocking-disabled.png" width="800" alt="'Blocked contents can be displayed.' ['fig4']" /></p>

<p><strong>How can those blocked contents be displayed automatically?</strong></p>

<!-- more -->

<h2 id="my-initial-attempt-to-view-the-contents">My initial attempt to view the contents</h2>

<p>Half a month ago, I upgraded Firefox to 29.  Before the upgrade,
receiving the link of this blog, the browser would use the <abbr title="Hypertext Transfer Protocol">HTTP</abbr>
version of the link; after the upgrade, it displayed the <abbr title="Hypertext Transfer Protocol">HTTP</abbr><strong>S</strong>
version of the blog instead.</p>

<p>I installed some Firefox plugins.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>  I thought
<a href="https://www.eff.org/https-everywhere" title="HTTPS Everywhere"><abbr title="HTTP Secure">HTTPS</abbr> Everywhere</a> was the cause for this problem.
After I disabled this plugin and restarted Firefox, <em>everything</em> in my
blog were displayed.  Therefore, I spent hours to find out how to
automatically change the communication protocol from “https://” to
“http://” in <abbr title="HTTP Secure">HTTPS</abbr> Everywhere last week.  After reading the official
documentation, I tried manually creating a downgrade rule for browsing
this blog.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">My FAILED <abbr title="HTTP Secure">HTTPS</abbr> Everywhere downgrade rule for this blog</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;ruleset</span> <span class="na">name=</span><span class="s">"My GitHub Page"</span><span class="nt">&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;target</span> <span class="na">host=</span><span class="s">"vincenttam.github.io"</span> <span class="nt">/&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;rule</span> <span class="na">from=</span><span class="s">"^https://vincenttam\.github\.io/"</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">	<span class="na">to=</span><span class="s">"http://vincenttam.github.io/"</span> <span class="na">downgrade=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/ruleset&gt;</span>
</div></div></pre></div></figure>

<p>It worked for <em>some</em> pages in my blog, and failed for <em>some</em> of them.
I <em>didn’t</em>, <em>don’t</em>, and <em>won’t</em> know why.  I gave up and thought in
another way—change the contents of this blog so that MathJax <em>won’t</em>
be blocked when <abbr title="HTTP Secure">HTTPS</abbr> is used.</p>

<p>I attempted to observe other sites’ HTML source code for embedded
MathJax, such as <a href="http://www.idryman.org/blog/2012/03/10/writing-math-equations-on-octopress/" title="Writing Math Equations on Octopress"><em>Carpe diem</em></a>.  I copied the code from
him.<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup>  I was puzzled by the fact that his code worked and mine
<em>didn’t</em>.</p>

<p>Failed Google searches:</p>

<ul>
  <li>octopress “https” blocked content</li>
  <li>firefox blocked octopress mathjax</li>
</ul>

<h2 id="learning-from-firefoxs-messages">Learning from Firefox’s messages</h2>

<p>On the left of the address bar, I clicked the shield icon, and <strong>learn
more</strong>.</p>

<p><img src="/images/posts/OctopressHTTPS/ff-shield.png" alt="Firefox 29 blocked insecure contents" title="Firefox 29's message about insecure mixed contents" /><br />
<small>Source: <a href="https://support.cdn.mozilla.net/media/uploads/gallery/images/2014-03-25-07-10-44-1aa0ef.png" title="Image source">Mozilla support</a></small></p>

<p>Then, I was taken to <a href="http://mzl.la/13jCUSU" title="How does content that isn't secure affect my safety?">a page in Mozilla Support</a>.  At the
bottom of the section <em>What is mixed content?</em>, there’s a note that
contains a link to <a href="https://blog.mozilla.org/tanvi/2013/04/10/mixed-content-blocking-enabled-in-firefox-23/" title="Mixed Content Blocking Enabled in Firefox 23!">a blog post</a>.  I <em>didn’t</em> want to
spend much time to read something unrelated to my major.  I found the
author’s reply to DaveP, a developer who ask for more information for
fixing issues caused by Firefox’s security features.  He gave two
links to DaveP, and I clicked the first one.  At first glance, I
<em>didn’t</em> understand what was
<a href="https://developer.mozilla.org/docs/Security/MixedContent#Mixed_active_content">active mixed content</a>, and I clicked that link.</p>

<p>It’s said that some “active” contents were considered to be
“<em>secure</em>”, such as</p>

<ul>
  <li>some HTML tags like <code class="highlighter-rouge">&lt;video&gt;</code>, <code class="highlighter-rouge">&lt;audio&gt;</code>, <code class="highlighter-rouge">&lt;object&gt;</code>, etc</li>
  <li>some JavaScripts and CSS</li>
</ul>

<p>As a result, I replaced the <code class="highlighter-rouge">&lt;iframe&gt;</code> element which embedded a <abbr title="Portable Document Format">PDF</abbr>
document in
<a href="/blog/2014/03/16/latex-template-for-essays/" title="LaTeX Template for Essays">one of my previous on $\rm \LaTeX$ template</a>
by a hyperlink.<sup id="fnref:4"><a href="#fn:4" class="footnote">4</a></sup>  Nevertheless, MathJax still <em>didn’t</em> load in this
blog.  I clicked
<a href="https://developer.mozilla.org/docs/Security/MixedContent/fix_website_with_mixed_content">“<em>How to fix a website with blocked mixed content</em>”</a>,
and was taken back to the previous page.  Having <em>no</em> experience in
web designing, I could only understand two advices:</p>

<ol>
  <li><a href="http://www.mozilla.org/en-US/firefox/aurora/" title="latest Aurora">Install Aurora</a>: I <em>didn’t</em> want to install it.</li>
  <li>Invoke Firefox’s web console by <code class="highlighter-rouge">&lt;C-S-k&gt;</code>.  (can be closed with
<code class="highlighter-rouge">&lt;F12&gt;</code>)</li>
</ol>

<p><img class="fancybox" src="/images/posts/OctopressHTTPS/WebConsoleGoogleFonts.png" width="800" alt="'Firefox web console' ['fig5']" /></p>

<p>In lines 3–4 of the web console, I could see that Google Fonts were
blocked.  I clicked “<a href="https://developer.mozilla.org/docs/Security/MixedContent"><strong>[Learn More]</strong></a>” and was brought
to a page on <abbr title="Mozilla Developer Network">MDN</abbr> that I had already visited.  I clicked the link for
fixing the website at the bottom <em>again</em>, learnt <em>nothing</em> new about
the problem.</p>

<h2 id="source-code-changes-to-fix-things">Source code changes to fix things</h2>

<h3 id="fixing-google-fonts-first">Fixing Google Fonts first</h3>

<p>I searched “blocked loading mixed active content google fonts” on
Google and <a href="https://blog.mozilla.org/tanvi/2013/04/10/mixed-content-blocking-enabled-in-firefox-23/" title="Mixed Content Blocking Enabled in Firefox 23!">Tanvi’s blog post</a> appeared at the top of the
page.  I skimmed through it <em>once more</em>, and searched for “google
fonts”, but I could just find a reference to another comment (comment
40) which explained the reasons for blocking mixed content fonts.
I browsed another search result, which was
<a href="https://stackoverflow.com/questions/13833210/" title="No Google Fonts Working in Google Chrome">a question on Stack Overflow</a>.  Though the
question is about <a href="https://www.google.com/chrome/" title="Google Chrome Browser">Google Chrome</a>, looking at the first
answer, I knew what to do next—I added an <code class="highlighter-rouge">s</code> after <code class="highlighter-rouge">http</code> in each <abbr title="Uniform Resource Locator">URL</abbr>
of the Google Fonts used.<sup id="fnref:5"><a href="#fn:5" class="footnote">5</a></sup>  After that, I generated and previewed
the site.  Although
<img src="/images/posts/OctopressHTTPS/WarningTriangle.png" alt="the orangle warning triangle" title="Firefox's warning triangle for unsafe contents" class="nobd" /> still
appeared on the left of the address bar, the Google Fonts used in the
blog <em>weren’t</em> blocked anymore.</p>

<h3 id="fixing-mathjax">Fixing MathJax</h3>

<p>The way to include MathJax equations in Octopress in now clear: refer
to an <abbr title="HTTP Secure">HTTPS</abbr> version of MathJax library in the head of each page.</p>

<p><img class="fancybox" src="/images/posts/OctopressHTTPS/WebConsoleMathJax.png" width="800" alt="'Firefox web console' ['fig6']" /></p>

<p>I tried to google ‘blocked loading mixed active content
“http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML”’,
and found a few sites:</p>

<ul>
  <li><a href="http://meta.crypto.stackexchange.com/questions/384/">https-everywhere breaks MathJax due to https/http mixed-content rules - Cryptography Meta Stack Exchange</a></li>
  <li><a href="http://meta.math.stackexchange.com/questions/10776/">MathJax not working - Mathematics Meta Stack Exchange</a></li>
</ul>

<p>Reading these sites, I knew that I could either adjust the rules in
<abbr title="HTTP Secure">HTTPS</abbr> Everywhere, or use an <abbr title="HTTP Secure">HTTPS</abbr> version of MathJax.  For the former,
I <em>didn’t</em> have the ability and time to study the documentation and
test the results.  Though most of the other Jekyll blogs <em>doesn’t</em> use
the JavaScript library over <abbr title="HTTP Secure">HTTPS</abbr>, in order to view the contents
rendered by MathJax, I read
<a href="http://www.mathjax.org/resources/faqs/#problem-https" title="MathJax FAQ">a question in the MathJax FAQ</a> in the second answer to
the above question posted on Cryptography Meta Stack Exchange.  I also
saw their documentation about secure access to the MathJax <abbr title="Content Delivery Network">CDN</abbr>.  I
copied the correct <code class="highlighter-rouge">&lt;script&gt;</code> tag from <a href="http://docs.mathjax.org/en/latest/start.html#secure-access-to-the-cdn" title="MathJax Documentation on accessing their CDN over HTTPS">there</a>.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Part of my working `source/_includes/custom/head.html`</span><a class="code-highlight-caption-link" href="https://github.com/VincentTam/vincenttam.github.io/blob/70ba670/source/_includes/custom/head.html#L21">link</a></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="c">&lt;!-- mathjax config similar to math.stackexchange --&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-mathjax-config"</span><span class="nt">&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">(&#x7b;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">  </span><span class="na">jax</span><span class="p">:</span> <span class="p">[</span><span class="s2">"input/TeX"</span><span class="p">,</span> <span class="s2">"output/HTML-CSS"</span><span class="p">],</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">  </span><span class="na">tex2jax</span><span class="p">:</span> <span class="p">&#x7b;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">    </span><span class="na">inlineMath</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'$'</span><span class="p">,</span> <span class="s1">'$'</span><span class="p">]</span> <span class="p">],</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">    </span><span class="na">displayMath</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'$$'</span><span class="p">,</span> <span class="s1">'$$'</span><span class="p">]],</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">    </span><span class="na">processEscapes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">    </span><span class="na">skipTags</span><span class="p">:</span> <span class="p">[</span><span class="s1">'script'</span><span class="p">,</span> <span class="s1">'noscript'</span><span class="p">,</span> <span class="s1">'style'</span><span class="p">,</span> <span class="s1">'textarea'</span><span class="p">,</span> <span class="s1">'pre'</span><span class="p">,</span> <span class="s1">'code'</span><span class="p">]</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">  </span><span class="p">&#x7d;,</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">  </span><span class="na">messageStyle</span><span class="p">:</span> <span class="s2">"none"</span><span class="p">,</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">  </span><span class="s2">"HTML-CSS"</span><span class="p">:</span> <span class="p">&#x7b;</span> <span class="na">preferredFont</span><span class="p">:</span> <span class="s2">"TeX"</span><span class="p">,</span> <span class="na">availableFonts</span><span class="p">:</span> <span class="p">[</span><span class="s2">"STIX"</span><span class="p">,</span><span class="s2">"TeX"</span><span class="p">]</span> <span class="p">&#x7d;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p">&#x7d;);</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/script&gt;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="err">  </span><span class="na">src=</span><span class="s">"https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span><span class="nt">&gt;</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/script&gt;</span></div></div></pre></div></figure>

<hr />
<p>(Last edited on AUG 2ND, 2014)</p>

<p>Note: A new address of MathJax via <abbr title="HTTP Secure">HTTPS</abbr> protocol is available.  View
my <a href="/blog/2014/08/02/a-change-of-encrypted-mathjax-cdn-access/">new post</a> for details.</p>

<hr />

<h4 id="eliminate-the-right-click-bug">Eliminate the “right-click bug”</h4>

<p>Lastly, we need to fix the “right-click bug” in MathJax Octopress
blogs.  To find a typical example, I searched “octopress mathjax” on
Google, and <a href="http://drz.ac/2013/01/03/blogging-with-math/">a post on <em>DrZ.ac</em></a> came first in the
search results.  There’s an equation, and once you right-click it, you
<em>can’t</em> see anything except the popup menu.  The second comment to the
post included a link to an article in Brain Buccola’s GitHub page,
which discussed the method of fixing the bug in
<a href="http://brianbuccola.github.io/blog/2012-11-28-latex-math-in-octopress.html#fix-right-click-bug">the fifth point</a>.  In the beginning of Buccola’s
post, he said that he had set it up with the help of some Octopress
users, particularly the author of <a href="http://www.idryman.org/blog/2012/03/10/writing-math-equations-on-octopress/" title="Writing Math Equations on Octopress"><em>Carpe diem</em></a>.  I guess
<em>Carpe diem</em> is the first Octopress site that manages to include
MathJax <em>without</em> the bug.</p>

<h3 id="final-result">Final result</h3>

<p><img src="/images/posts/OctopressHTTPS/GrayPadlock.png" alt="A gray padlock" title="Firefox's gray padlock for encrypted connection" class="nobd" /> appeared on the left of the
address bar.  It indicates that the connection to this blog is
encrypted, and the contents, especially the active ones, are safe to
be shown.</p>

<p><img src="/images/posts/OctopressHTTPS/GrayPadlockMsg.png" alt="The gray padlock for this blog" /></p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<ol>
  <li>
    <p>Make use of official documentation</p>

    <p>Even though there’s <em>so many mannuals</em> and it’s <em>impossible</em> to
 <em>read them all</em><sup id="fnref:6"><a href="#fn:6" class="footnote">6</a></sup>  I should try to <em>find the useful parts</em> and
 <em>understand the contents that are within my level</em>.</p>
  </li>
  <li>
    <p>Consult Google</p>

    <p>If there’s someone who has already come over the problem that I’m
 facing with, it can be more quickly solved.</p>
  </li>
  <li>
    <p>Give up if too <em>much</em> time have been spent and the progress is
<em>little</em></p>

    <p>In the future, it is possible that others will develop some better
 methods in doing things.  The exchange of ideas on the Internet
 will help.</p>
  </li>
  <li>
    <p>Use <abbr title="HTTP Secure">HTTPS</abbr> to browsing web for better information security</p>

    <ul>
      <li>To avoid the notorious <abbr title="man-in-the-middle">MITM</abbr> attacks.</li>
      <li>To prevent eavesdropping and surveillance.</li>
    </ul>
  </li>
</ol>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="http://www.wisegeek.org/what-is-the-difference-between-http-and-https.htm" title="wiseGEEK's answer">HTTP vs HTTP<strong>S</strong></a>&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><a href="/blog/2014/06/05/firefox-security-plugins/"><em>Firefox Security Plugins</em></a>&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:3">

      <p><a href="http://www.idryman.org/blog/2012/03/10/writing-math-equations-on-octopress/" title="Writing Math Equations on Octopress"><em>Carpe diem</em>’s method (see code block in “item 2”)</a>;
and my <code class="highlighter-rouge">source/_includes/custom/head.html</code> at <a href="https://github.com/VincentTam/vincenttam.github.io/blob/8f72ef7/source/_includes/custom/head.html#L6-L20" title="My code for embedding MathJax in the past">8f72ef7</a>&nbsp;<a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:4">

      <p><code class="highlighter-rouge">source/_posts/2014-03-16-latex-template-for-essays.markdown</code> at
commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/70ba670#diff-3">70ba670</a>&nbsp;<a href="#fnref:4" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:5">
      <p><code class="highlighter-rouge">source/_includes/custom/head.html</code> at commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/70ba670#diff-3">70ba670</a>&nbsp;<a href="#fnref:5" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:6">

      <p><a href="http://user.frdm.info/ckhung/a/c013.php" title="Source: 習於略讀各種文件">“Get used to skimming through documents” from Prof. C.K. Hung</a>&nbsp;<a href="#fnref:6" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/05/secure-file-removal/">Secure File Removal</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/05/secure-file-removal/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/05/secure-file-removal/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/05/secure-file-removal/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><h2 id="gnus-shred-utility">GNU’s <code class="highlighter-rouge">shred</code> utility</h2>

<h3 id="the-command-for-files-and-folders">The command for files and folders</h3>

<p>For a <em>single</em> file, the command should be simple.  For a <em>directory</em>,
the following command can shred the files recursively.<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></p>

<div class="cliUB highlighter-rouge"><pre class="highlight"><code>$ find &lt;dir&gt; -type f -exec shred {} \;
</code></pre>
</div>

<h3 id="effectiveness-of-shred-in-ext3-and-ntfs-file-systems">Effectiveness of <code class="highlighter-rouge">shred</code> in Ext3 and NTFS file systems</h3>

<p>The cited part of <code class="highlighter-rouge">shred</code>’s manpage in the second answer interested me
to read more about the utility.  In Vim, I pressed <code class="highlighter-rouge">K</code> when the cursor
is on the word <code class="highlighter-rouge">shred</code>, and opened the manpage, which claims that
<em>using it on an Ext3 partition is fine</em> if the partition is in either
the <code class="highlighter-rouge">data=ordered</code> (<strong>default</strong>) or <code class="highlighter-rouge">data=writeback</code> mode.  How about
<em>an NTFS partition</em>?  At the bottom, it says that the info page has
more information about the utility.  I found the following section in
the info page.</p>

<blockquote>
  <p><strong>Please note</strong> that `shred’ relies on a very important assumption:
that the file system overwrites data in place.  This is the
traditional way to do things, but many modern file system designs do
not satisfy this assumption.  Exceptions include:</p>

  <ul>
    <li>Log-structured or journaled file systems, such as those supplied
with AIX and Solaris, and JFS, ReiserFS, XFS, Ext3 (in
`data=journal’ mode), BFS, <strong>NTFS</strong>, etc. when they are configured
to journal <em>data</em>.</li>
  </ul>
</blockquote>

<p>However, googling “shred ntfs effective”, I saw another post about the
utility.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>  Due to my <em>limited</em> IT knowledge, searching for the word
“NTFS”, all I could understand was that “using <code class="highlighter-rouge">shred</code> on NTFS is
fine”.  I searched for the word “ext3”, and found Shane’s comment,
which questioned Wayne Richardson’s advice.<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup></p>

<h3 id="true-solution-encrypt-the-file-system">True solution: Encrypt the file system</h3>

<p>I went back to the Unix Stack Exchange question and re-read the second
solution.  The feasible way is in the last line.  I think many new
GNU/Linux users who have read this answer won’t think of encrypting
swap.</p>

<!-- more -->

<h3 id="dont-use-shred-on-usb-devices">Don’t use <code class="highlighter-rouge">shred</code> on USB devices!</h3>

<p>In the blog post cited in footnote 2, Richardson used the utility on a
USB drive.  Before writing something about encrypted swap, I’ll quote
from a Google search result of “shred usb”.</p>

<h4 id="shreds-possible-damage-to-usb-devices"><code class="highlighter-rouge">shred</code>’s possible damage to USB devices</h4>

<p>If one issues the <code class="highlighter-rouge">shred</code> command without changing the number of
iterations, which is three by default, USB devices will wear
out.<sup id="fnref:4"><a href="#fn:4" class="footnote">4</a></sup></p>

<p>As a result, Leo Notenboom suggested using <a href="http://go.ask-leo.com/sdelete" title="SDelete v1.61">SDelete</a>, which I, as a
supporter of GNU, <em>won’t</em> use due to its proprietary software
license.<sup id="fnref:5"><a href="#fn:5" class="footnote">5</a></sup></p>

<p>Thus, to overwrite the data <em>once only</em>, free software advocates use
GNU’s <code class="highlighter-rouge">shred</code> command with the <code class="highlighter-rouge">-n</code> flag set to <code class="highlighter-rouge">1</code>, instead of
SDelete.</p>

<h4 id="overwriting-the-usb-once-only-is-ineffective">Overwriting the USB once only is ineffective</h4>

<p>According to Computerworld, data recovery from SSD and flash drives
which have been overwritten is extremely easy.<sup id="fnref:6"><a href="#fn:6" class="footnote">6</a></sup></p>

<h4 id="conclusion-of-this-sub-section">Conclusion of this sub-section</h4>

<p>Using <code class="highlighter-rouge">shred</code> to overwrite the data multiple times will destroy the
USB; while one pass of overwriting provides <em>not much</em> additional
security to IT experts.  As a result, stop running <code class="highlighter-rouge">shred</code> on USB and
SSD drives.</p>

<h2 id="encrypt-swap">Encrypt swap</h2>

<p>If you’ve chosen “Encrypt <code class="highlighter-rouge">/home</code> folder” during Ubuntu 11.04+’s
installation, you <em>don’t</em> need this.  For users of older versions of
Ubuntu or other GNU/Linux distributions, I think that
<a href="http://www.logilab.org/29155" title="Enable and disable encrypted swap - Ubuntu">a post in Logilab</a> is useful for them.  However,
in some Linux versions/distros, after setting up the encrypted swap,
users will find out that they <em>can’t</em> hibernate.
<a href="https://help.ubuntu.com/community/EnableHibernateWithEncryptedSwap" title="EnableHibernateWithEncryptedSwap - Ubuntu Community Help Wiki">A community help page</a> will help them.  If
something strange happens, one may refer to
<a href="http://my-linux-installation-files.blogspot.hk/2012/09/fixing-broken-encrypted-swap-partition.html" title="Fixing Broken Encrypted Swap Partition">this post</a>.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">

      <p><a href="http://unix.stackexchange.com/questions/27027/how-do-i-recursively-shred-an-entire-directory-tree" title="How do I recursively shred an entire directory tree?">A question about recursively shred a folder on Unix Stack Exchange</a>&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><a href="http://fsckin.com/2008/01/09/using-shred-to-wipe-hard-drives-dod-uses-it-you-should-too/" title="Using Shred to Wipe Hard Drives – DoD Uses It – You Should Too!">A post that advises users to use <code class="highlighter-rouge">shred</code></a>&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:3">
      <p><a href="http://fsckin.com/2008/01/09/using-shred-to-wipe-hard-drives-dod-uses-it-you-should-too/#comment-960661402">Shane’s comment to the post in item 2</a>&nbsp;<a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:4">
      <p><a href="http://ask-leo.com/do_i_need_a_file_shredder_for_my_usb_flash_drive.html" title="Do I need a file shredder for my USB Flash Drive?">A post on <em>Ask Leo!</em></a>&nbsp;<a href="#fnref:4" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:5">
      <p><a href="http://technet.microsoft.com/en-us/sysinternals/bb469936" title="Sysinternals Software License Terms">Software license of SDelete</a>&nbsp;<a href="#fnref:5" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:6">
      <p><a href="http://www.computerworld.com/s/article/355159/SSD_Security_Issues_Surprise_Experts" title="SSD data-erasure challenges surprise experts">An article on Computerworld about SSD security issues</a>&nbsp;<a href="#fnref:6" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </article>
  
  
    <article>
      <header>
    
      <!-- This defines how Octopress will use posts with external-url. -->
      
	<h1 class="entry-title"><a href="/blog/2014/06/05/putting-a-code-block-inside-a-list-in-octopress/">Putting a Code Block inside a List in Octopress</a></h1>
      
    
    
      <p class="meta">
        
        
           | <a href="/blog/2014/06/05/putting-a-code-block-inside-a-list-in-octopress/#disqus_thread/"
             data-disqus-identifier="https://vincenttam.github.io/blog/2014/06/05/putting-a-code-block-inside-a-list-in-octopress/">Comments</a>
        
	| <a rel="bookmark" href="/blog/2014/06/05/putting-a-code-block-inside-a-list-in-octopress/" title="Permalink">&infin;</a>
      </p>
    
  </header>


  <div class="entry-content"><p>After writing my <a href="/blog/2014/06/04/resolving-jekylls-yaml-exception/" title="Resolving Jekyll's YAML Exception">previous post</a>, I found out that the
<a href="http://daringfireball.net/projects/markdown/syntax#precode" title="Standard Markdown syntax for code blocks">standard Markdown syntax</a> for nesting a code block
inside a list item <em>doesn’t</em> work.  I knew a limitation of the
Markdown parser that Octopress uses.  This is well illustrated in
<a href="https://github.com/imathis/octopress/issues/488" title="not support ordered lists(markdown) with code blocks">Octopress issue #488</a>.</p>

<p>Brandon Mathis, the father of Octopress, suggested using HTML tags to
include a code block in a list item.</p>

</div>
    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/28/">&larr; Older</a>
    
    <a href="/blog/archives/">Blog Archives</a>
    
    <a class="next" href="/posts/26/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me (Brief)</h1>
  <a href="http://stackexchange.com/users/3841408/gnu-supporter">
    <img src="/images/flair.png" width="208" height="58"
    alt="profile for GNU Supporter on Stack Exchange, a network of
    free, community-driven Q&amp;A sites" title="profile for GNU
    Supporter on Stack Exchange, a network of free, community-driven
    Q&amp;A sites" /></a>
  <p><a href="/about/">Here</a>'s a more detailed version.</p>
  <ol>
    <li>A free software supporter</li>
    <li>A GNU/Linux user</li>
    <li>Love text editing in Vim</li>
    <li>Enjoy writing in Markdown</li>
  </ol>
</section>
  

  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/android/'>Android (1)</a> <a href='/blog/categories/android/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/c-slash-c-plus-plus/'>C/C++ (6)</a> <a href='/blog/categories/c-slash-c-plus-plus/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/css/'>CSS (4)</a> <a href='/blog/categories/css/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/emacs/'>Emacs (1)</a> <a href='/blog/categories/emacs/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/gimp/'>GIMP (2)</a> <a href='/blog/categories/gimp/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/git/'>Git (34)</a> <a href='/blog/categories/git/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/imagemagick/'>ImageMagick (4)</a> <a href='/blog/categories/imagemagick/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/latex/'>LaTeX (28)</a> <a href='/blog/categories/latex/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/latex-suite/'>LaTeX-Suite (7)</a> <a href='/blog/categories/latex-suite/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (56)</a> <a href='/blog/categories/linux/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/m$-win-star/'>M$ Win* (41)</a> <a href='/blog/categories/m$-win-star/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/mathjax/'>MathJax (16)</a> <a href='/blog/categories/mathjax/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/mathjax/'>Mathjax (1)</a> <a href='/blog/categories/mathjax/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/metase/'>MetaSE (2)</a> <a href='/blog/categories/metase/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/octave/'>Octave (4)</a> <a href='/blog/categories/octave/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/octopress/'>Octopress (54)</a> <a href='/blog/categories/octopress/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/perl/'>Perl (2)</a> <a href='/blog/categories/perl/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/ruby/'>Ruby (9)</a> <a href='/blog/categories/ruby/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/sql/'>SQL (2)</a> <a href='/blog/categories/sql/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/svg/'>SVG (8)</a> <a href='/blog/categories/svg/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/ultrablog-dot-vim/'>UltraBlog.vim (7)</a> <a href='/blog/categories/ultrablog-dot-vim/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/vim/'>Vim (41)</a> <a href='/blog/categories/vim/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/blogging/'>blogging (20)</a> <a href='/blog/categories/blogging/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/git/'>git (1)</a> <a href='/blog/categories/git/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/hardware/'>hardware (5)</a> <a href='/blog/categories/hardware/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/health/'>health (2)</a> <a href='/blog/categories/health/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/information-security/'>information security (15)</a> <a href='/blog/categories/information-security/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/kramdown/'>kramdown (7)</a> <a href='/blog/categories/kramdown/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/linux/'>linux (1)</a> <a href='/blog/categories/linux/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/math/'>math (56)</a> <a href='/blog/categories/math/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/metase/'>metase (2)</a> <a href='/blog/categories/metase/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (2)</a> <a href='/blog/categories/octopress/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/online-code-highlighter/'>online code highlighter (9)</a> <a href='/blog/categories/online-code-highlighter/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/pandoc/'>pandoc (4)</a> <a href='/blog/categories/pandoc/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/template/'>template (10)</a> <a href='/blog/categories/template/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>
<li class='category'><a href='/blog/categories/web-technologies/'>web technologies (32)</a> <a href='/blog/categories/web-technologies/atom.xml'><img title = 'Category Atom Feed' src='/images/rss.png' class='nobd' alt='Category Atom Feed' height='15' width ='15'/></a></li>

  </ul>
</section>
  

  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/01/11/ubuntu-on-windows-10-custom-display/">Ubuntu on Windows 10 Custom Display</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/01/11/windows-10-time-sync-error/">Windows 10 Time Sync Error</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/01/11/shortened-github-urls-for-this-site/">Shortened GitHub URLs for this Site</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/01/11/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-5/">A Quick Markdown Syntax Error Detection for Writing MathJax Equations in Octopress Posts (5)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10/">Octopress Config for Ruby 2.3 on Windows 10</a>
      </li>
    
  </ul>
</section>
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" src="/images/CC-BY-SA-icon.png" height="31" width="88"/></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<br/>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p></footer>
  <script type="text/javascript">
      var disqus_shortname = 'blogueun';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<!-- Defer loading of JavaScripts -->
<script type="text/javascript" charset="utf-8">
(function() {
    function getScript(url,success){
        var script=document.createElement('script');
        script.src=url;
        var head=document.getElementsByTagName('head')[0],
        done=false;
        script.onload=script.onreadystatechange = function(){
        if ( !done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete') ) {
            done=true;
            success();
            script.onload = script.onreadystatechange = null;
            head.removeChild(script);
        }
        };
        head.appendChild(script);
    }

    getScript("/javascripts/modernizr-2.0.js",function() {});
    getScript("https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,https://vincenttam.github.io/javascripts/MathJaxLocal.js",function() {});

    getScript("//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",function(){
      getScript("/javascripts/octopress.js",function() {});
      getScript("/fancybox/source/jquery.fancybox.pack.js?v=2.1.5", function() {
	getScript("/fancybox/source/helpers/all.js", function() {
	  getScript("/javascripts/FancyBoxLocal.js", function() {});
	  });
	});
      });
})();

var cb = function() {
  var h = document.getElementsByTagName('head')[0];

  // Fonts from Google's Web font directory at http://google.com/webfonts
  var font1 = document.createElement("link");
  font1.href = "//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic";
  font1.rel = "stylesheet";
  font1.type = "text/css";
  h.parentNode.insertBefore(font1, h);

  var font2 = document.createElement("link");
  font2.href = "//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic";
  font2.rel = "stylesheet";
  font2.type = "text/css";
  h.parentNode.insertBefore(font2, h);

  var fontub = document.createElement("link");
  fontub.href = "//fonts.googleapis.com/css?family=Ubuntu+Mono:400,700";
  fontub.rel = "stylesheet";
  fontub.type = "text/css";
  h.parentNode.insertBefore(fontub, h);

  // screen.css
  var l = document.createElement("link");
  l.href = "/stylesheets/screen.css";
  l.media = "screen, projection";
  l.rel = "stylesheet";
  l.type = "text/css";
  h.parentNode.insertBefore(l, h);

  // table css
  var tcss = document.createElement("link");
  tcss.href = "/stylesheets/data-table.css";
  tcss.media = "screen, projection";
  tcss.rel = "stylesheet";
  tcss.type = "text/css";
  h.parentNode.insertBefore(tcss, h);

  // CSS files for FancyBox
  var fbcss = document.createElement("link");
  fbcss.href = "/fancybox/source/jquery.fancybox.css?v=2.1.5";
  fbcss.rel = "stylesheet";
  fbcss.type = "text/css";
  fbcss.media = "screen, projection";
  document.body.appendChild(fbcss);
  var fbbtncss = document.createElement("link");
  fbbtncss.href = "/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5";
  fbbtncss.rel = "stylesheet";
  fbbtncss.type = "text/css";
  fbbtncss.media = "screen, projection";
  document.body.appendChild(fbbtncss);
  var fbthmcss = document.createElement("link");
  fbthmcss.href = "/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7";
  fbthmcss.rel = "stylesheet";
  fbthmcss.type = "text/css";
  fbthmcss.media = "screen, projection";
  document.body.appendChild(fbthmcss);
};

var raf = requestAnimationFrame || mozRequestAnimationFrame ||
    webkitRequestAnimationFrame || msRequestAnimationFrame;
if (raf) raf(cb);
else window.addEventListener('load', cb);
</script>
</body>
</html>
